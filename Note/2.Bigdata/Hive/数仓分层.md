# 前言

**1、分层意义**

**1）清晰数据结构：**每一个数据分层都有它的作用域，这样我们在使用表的时候能更方便地定位和理解。

数据关系条理化：源系统间存在复杂的数据关系，比如客户信息同时存在于核心系统、信贷系统、理财系统、资金系统，取数时该如何决策呢？数据仓库会对相同主题的数据进行统一建模，把复杂的数据关系梳理成条理清晰的数据模型，使用时就可避免上述问题了。

**2）数据血缘追踪：**简单来讲可以这样理解，我们最终给业务诚信的是一能直接使用的张业务表，但是它的来源有很多，如果有一张来源表出问题了，我们希望能够快速准确地定位到问题，并清楚它的危害范围。

**3）数据复用，减少重复开发：**规范数据分层，开发一些通用的中间层数据，能够减少极大的重复计算。数据的逐层加工原则，下层包含了上层数据加工所需要的全量数据，这样的加工方式避免了每个数据开发人员都重新从源系统抽取数据进行加工。通过汇总层的引入，避免了下游用户逻辑的重复计算， 节省了用户的开发时间和精力，同时也节省了计算和存储。极大地减少不必要的数据冗余，也能实现计算结果复用，极大地降低存储和计算成本。

**4）把复杂问题简单化。**将一个复杂的任务分解成多个步骤来完成，每一层只处理单一的步骤，比较简单和容易理解。而且便于维护数据的准确性，当数据出现问题之后，可以不用修复所有的数据，只需要从有问题的步骤开始修复。

**5）屏蔽原始数据的(影响) ，屏蔽业务的影响。**业务或系统发生变化时，不必每改一次业务就需要重新接入数据。提高数据稳定性和连续性。

屏蔽源头业务系统的复杂性：源头系统可能极为繁杂，而且表命名、字段命名 、字段含义等可能五花八门，通过 DW 层来规范和屏蔽所有这些复杂性，保证下游数据用户使用数据的便捷和规范。如果源头系统业务发生变更，相关的变更由 DW 层来处理，对下游用户透明，无须改动下游用户的代码和逻辑。

数据仓库的可维护性：分层的设计使得某一层的问题只在该层得到解决，无须更改下一层的代码和逻辑。

大数据系统需要数据模型方法来帮助更好地组织和存储数据，以便在性能、成本、效率和质量之间取得最佳平衡！



# 搭建

数仓搭建的详细步骤：

1. 业务流程：了解公司的业务流程是非常重要的，因为这有助于你识别关键业务节点和明确业务动作以及产生的结果。你可以和公司的业务部门交流，了解公司核心业务流程，也可以通过阅读相关文档和资料来收集信息。
2. 分域/主题：在了解业务流程之后，你需要将业务划分为不同的主题域。主题域可以根据业务流、需求、职责或产品功能等方式进行划分。例如，你可以将销售管理业务划分为销售订单、客户管理、库存管理等主题域。
3. 指标体系：建立指标体系是数仓搭建的重要步骤之一。在这个步骤中，你需要确定指标的定义和命名规则，以确保所有人在谈论指标时具有相同的语言和口径。这有助于避免混淆和误解，并有助于提高数据分析和决策的准确性。
4. 实体关系：在数仓搭建中，你需要识别出各个业务动作所产生的数据，并绘制ER图（实体关系图），以明确业务表的核心字段及关系。这有助于你更好地理解数据结构，为后续建模打下基础。
5. 维度整理：维度标准化是将各个业务系统中相同的维度进行统一的过程，以方便后续建模。这个步骤有助于消除数据不一致的情况，确保数据质量和准确性。在进行维度整理时，你需要仔细检查每个维度，确保它们在所有数据源中具有相同的定义和结构。





## Refrence

[1]: https://mp.weixin.qq.com/s/yotNkzw_3TKeSYTpIVKahQ	"数仓思考之数据模型&amp;数仓通用理论知识"
[2]: https://mp.weixin.qq.com/s/nqKEdW8DhnVogD2LARX6bQ	"数据开发必知必会 - 数据仓库理论总结"


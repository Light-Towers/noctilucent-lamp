# TODO 待完善



DBMS的功能：

* 数据定义
* 数据库操作
* 数据库运行管理
* 数据组织
* 存储和管理
* 数据库的建立和维护
* 与其他软件系统的通信功能等

特征：

分类：

体系结构：

## 三级模式——两级映像

![img](https://img-blog.csdnimg.cn/20200817113042619.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyMzgwOA==,size_16,color_FFFFFF,t_70)

三级模式**（一个数据库系统中，外模式可以有多个，而模式和内模式只有一个！！！）**：

* 外模式：也称**用户模式或子模式**，是用户与数据库系统的接口，是用户看到的那部分数据的描述。 描述外模式的数据定义语言为：外模式DDL。(视图)
* 模式：也称**概念模式**，它是数据库中全体数据的逻辑结构和特征的描述。只涉及型的描述，不涉及具体的值。概念模式的一个具体值称为模式的一个实例，同一个模式可以有很多实例。描述模式的数据定义语言为：模式DDL。(基本表)
* 内模式：也称**存储模式**，是数据物理结构和存储方式的描述，是数据在数据库内部的表示方法，定义所有的内部记录类型、索引和文件的组织方法，以及数据控制方面的细节。描述内模式的数据定义语言为：内模式DDL。(文件)

两级映像：

数据的独立性是由DBMS的两级映像功能来保证的。

* **模式/内模式映像：**存在于概念级和内部级之间，实现了模式和内模式之间的相互转换。**保证了数据的物理独立性。**

* **外模式/模式映像：**存在于外部级和概念级之间，实现了外模式和模式之间的相互转换。**保证了数据的逻辑独立性。**

数据的独立性：

数据模型：

数据模型三要素：数据结构、数据操作、数据的约束条件

E-R图：实体（矩形）、联系（菱形）、属性（椭圆）

关系代数运算：并，交，差，**笛卡尔积，投影，选择，连接，除**

SQL语法：

```sql
-- 数据查询
select...from...where...group by...having...order by...
-- 插入数据
insert into...values... 
-- 修改数据
update...set...=...where... 
-- 删除数据
delete from...where... 
-- 授权
grant...on...to...(with grant option) 
-- 回收权限
revoke...on...from... 
```

函数依赖:

* 完全函数依赖
* 部分函数依赖
* 平凡函数依赖
* 非平凡函数依赖
* 传递函数依赖

在数据库理论中，函数依赖（Functional Dependency, FD）是描述数据之间关系的一个重要概念，主要用于数据库的设计和规范化。以下是关于函数依赖的一些关键点：

1. **定义**：
   - 函数依赖是一个逻辑关系，它表明在一个关系模式中，如果属性集X确定了另一个属性Y，也就是说，对于X的每一个可能的值，都有唯一确定的Y的值，那么我们说Y函数依赖于X，记作`Y → X`。
   
2. **属性集与关系模式**：
   - `R(U)`表示一个关系模式，其中R是关系名，U是属性集合，例如`U = {学号, 姓名, 年龄, 专业}`。
   
3. **类型**：
   - **完全函数依赖**：如果X → Y，并且Y不能被X的任何真子集所决定，那么称Y完全函数依赖于X，记作`X →+ Y`。
   - **部分函数依赖**：如果X → Y，但Y可以被X的某个真子集Z所决定，那么称Y部分函数依赖于X，记作`X → Z`。
   - **传递函数依赖**：如果X → Y，Y → Z，那么Z传递函数依赖于X，记作`X → Z`。
   
4. **Armstrong公理系统**：
   
   - **Reflexivity（自反律）**：如果X包含Y，则X → Y。
   - **Augmentation（增广律）**：如果X → Y，那么XZ → YZ。
   - **Transitivity（传递律）**：如果X → Y，Y → Z，那么X → Z。
   
   • 根据上述三条推理规则又可推出下述三条推理规则：
   
   （1）合并规则：若X→Y，X→Z，则 X→YZ 为F所蕴涵。
   （2）伪传递律：若X→Y，WY→Z，则 XW→Z 为F所蕴涵。
   （3）分解规则：若X→Y，Z⊆Y，则 X→Z 为F所蕴涵。
   
5. **最小函数依赖集**：
   - 在设计数据库时，我们通常寻找函数依赖的最小覆盖，这意味着找到一组函数依赖，它们能够等价于原始依赖集，但没有冗余的依赖。
   
6. **规范化**：
   - 函数依赖用于指导数据库的规范化过程，以减少数据冗余和提高数据一致性。例如，通过消除部分和传递依赖，我们可以达到不同的范式，如第一范式（1NF）、第二范式（2NF）、第三范式（3NF）和更高的BCNF（Boyce-Codd范式）。

## 函数依赖的闭包F +
**定义：关系模式R(U,F)中为F所逻辑蕴含的函数依赖的全体称为F的闭包，记为：F + 。**
即在F中能看出来并且其所蕴含的所有关系的集合称为函数依赖的闭包

> 参考：https://blog.csdn.net/weixin_49765221/article/details/123511630



事务:

* 特性： ACID
* 事务管理：事务开始（begin transaction），事务提交（commit），事务回滚（rollback）

数据库故障：事务内部故障、系统故障、介质故障、计算机病毒

数据库锁、数据不一致：

数据备份与恢复：






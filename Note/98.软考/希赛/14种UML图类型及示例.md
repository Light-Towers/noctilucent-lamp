## 1. 什么是 UML

UML 是统一建模语言的缩写。UML 图是基于 UML（统一建模语言）的图表，目的是直观地表示系统及其主要参与者、角色、动作、工件或类，以便更好地理解、更改、维护或记录信息关于系统。简而言之，UML 是一种现代的软件建模和文档化方法。事实上，它是最流行的业务流程建模技术之一。

它基于软件组件的图形表示。正如古老的谚语所说：“一图胜千言”。通过使用视觉表示，我们能够更好地理解软件或业务流程中可能存在的缺陷或错误。

UML 是由于围绕软件开发和文档的混乱而创建的。在 1990 年代，有几种不同的方式来表示和记录软件系统。需要一种更统一的方式来可视化地表示这些系统，因此，在 1994-1996 年，UML 由在Rational Software工作的三位软件工程师开发。它后来于 1997 年被采纳为标准，此后一直是标准，仅接受了一些更新。

## 2. UML 图的类型

* 行为图
  * 活动图
  * 用例图
  * 状态机图
  * 交互图
    * 序列图
    * 时序图
    * 通讯图
    * 交互概览图
* 结构图
  * 类图
  * 轮廓图
  * 组件图
  * 组合结构图
  * 对象图
  * 部署图
  * 包图

UML图 分为行为图和结构图两大类，前者分析和描述系统或流程的结构，后者则描述系统的行为、它的参与者和它的构建组件。这两大类里面又包括很多具体类型。

行为UML图包括：活动图、用例图、交互概览图、时序图、状态机图、通讯图和序列图。

结构UML图包括：类图、对象图、组件图、复合结构图、部署图、包图和剖面图。

在记录系统和/或架构时，并非所有 14 种不同类型的 UML 图都会定期使用。帕累托原则似乎也适用于UML 图的使用——开发人员在 80% 的时间里使用 20% 的图。软件开发中最常用的有：用例图、类图和序列图。

**（1）活动图**

活动图可能是用于业务流程建模的最重要的 UML 图。在软件开发中，一般用来描述不同活动和动作的流程。这些可以是顺序的也可以是并行的。它们描述了活动使用、消费或生产的对象，以及不同活动之间的关系。以上所有内容在业务流程建模中都是必不可少的。

![UML活动图模板](https://cms.boardmix.cn/images/pictures/uml-diagram-styles01.png)

[UML活动图模板](https://boardmix.cn/community/file/_LaC4PZahwLQo7uY0NL0dw)

**（2）用例图**

系统的基石部分是系统满足的功能需求。用例图用于分析系统的高层需求。这些要求通过不同的用例来表达。我们注意到这个 UML 图的三个主要组成部分：

功能需求——表示为用例；描述动作的动词

参与者——他们与系统交互；参与者可以是人、组织或内部或外部应用程序

参与者和用例之间的关系——用直箭头表示

![仓储系统-通用UML用例图模板](https://cms.boardmix.cn/images/pictures/uml-diagram-styles02.png)

[仓储系统-通用UML用例图模板](https://boardmix.cn/community/file/BP_Oa-idP8Eyl6I8yGom3Q)

**（3）交互概览图**

交互概述 UML 图可能是最复杂的一些图。到目前为止，我们已经解释了什么是活动图。此外，在行为图集中，我们有一个由四个图组成的子集，称为交互图。所以，交互概览图是由不同的交互图组成的活动图。

上面的示例显示了如何使用 UML 图来描述系统的动态行为、结构组织和对象之间的交互。所有这一切，同时考 虑事件发生的时间和顺序，从而密切关注事件和消息流的顺序。

该图有起点和终点，就像任何活动图一样。然后，在顶层视图上，它通过使用矩形框来描述交互和交互使用。在交互（矩形框）中，我们包含了一个完整的独立序列图，包含三个主要参与者：助手、中间件报告系统和检查器。一旦动作序列完成，流程状态就会分支，要么重复之前的交互，要么继续进行新的交互，然后结束流程。

![uml交互概览图](https://cms.boardmix.cn/images/pictures/uml-diagram-styles03.png)

uml交互概览图

**（4）时序图**

时序 UML 图用于表示注意力集中在时间上时对象之间的关系。我们对对象如何相互作用或相互改变不感兴趣，而是想表示对象和参与者如何沿着线性时间轴行动。

![UML时序图模板](https://cms.boardmix.cn/images/pictures/uml-diagram-styles04.png)

[UML时序图模板](https://boardmix.cn/community/file/hYjHCVahgZZht-b7cQewHQ)

**（6）序列图**

序列图可能是最重要的 UML 图，不仅在计算机科学界，而且在业务应用程序开发的设计级模型中也是如此。最近，由于它们在视觉上不言自明的特性，它们在描绘业务流程方面变得很流行。

顾名思义，序列图描述了参与者和对象之间发生的消息和交互的顺序。参与者或对象仅在需要时或其他对象想要与它们通信时才处于活动状态。所有通信都按时间顺序表示。要获得更好的想法，请查看下面的 UML 序列图示例。

顾名思义，结构图用于描述系统的结构。更具体地说，它在软件开发中用于表示系统的体系结构以及不同组件如何互连（不是它们的行为或通信方式，只是它们的位置）。

下面你可以看到一个序列图的例子，描述了一个课程注册系统。

![uml序列图](https://cms.boardmix.cn/images/pictures/uml-diagram-styles05.png)

uml序列图

**（7）通信UML图**

在 UML 1.x 中，通信图过去被称为协作图。顾名思义，这种类型的 UML 图的主要焦点是对象之间的通信。

由于核心组件是对象之间交换的消息，我们可以像制作时序图一样构建通信图。两者之间的唯一区别是通信图中的对象以关联连接显示。

从视觉上看，两者的不同之处在于序列图是垂直结构良好的，消息流遵循自上而下的时间顺序方法。另一方面，通信 UML 图使用数字方案和指向箭头来描述消息流。

如果在为流程或系统编写文档时必须在两者之间做出选择，序列图可能是更好的选择。许多软件工程师更喜欢序列图，不仅因为它们结构更好，而且因为它们在 UML 文档中的可用注释方面得到了更多关注。

另一方面，通信图更容易设计，因为您可以在绘图板上的任何位置添加对象。毕竟，为了连接对象，它们只需要成为编号序列的一部分，而不必在物理上彼此靠近。

下面我们分析时序图。如果您想了解更多关于通信图和序列图之间差异的信息，可以在此处继续阅读。

![uml通信图](https://cms.boardmix.cn/images/pictures/uml-diagram-styles06.png)

uml通信图

**（8）类图**

类 UML 图是最常见的软件文档图表类型。由于当今创建的大多数软件仍然基于面向对象的编程范式，因此使用类图来记录软件被证明是一种常识性解决方案。发生这种情况是因为 OOP 基于类和它们之间的关系。

![uml类图模板](https://cms.boardmix.cn/images/pictures/uml-diagram-styles07.png)

uml类图模板

简而言之，类图包含类及其属性（也称为数据字段）和它们的行为（也称为成员函数）。更具体地说，每个类都有 3 个字段：顶部的类名，名称正下方的类属性，底部的类操作/行为。不同类之间的关系（用连线表示），构成了类图。

**（9）对象图**

数据库UML对象图描述一组对象之间的关系，是具有具体属性值和行为的一个具体事物。其是类图中所建事物实例的静态快照，其与类图的主要区别是一个是抽象的，而对象图是具体的。

![uml对象图模板](https://cms.boardmix.cn/images/pictures/uml-diagram-styles08.png)

uml对象图模板

**（10）组件图**

在处理复杂系统的文档时，组件 UML 图可以帮助将系统分解为更小的组件。有时很难描述系统的体系结构，因为它可能包含多个部门或可能采用不同的技术。

![UML组件图模板](https://cms.boardmix.cn/images/pictures/uml-diagram-styles09.png)

[UML组件图模板](https://boardmix.cn/community/file/-mOrzAWBaqKGmpGW16ZShg)

**（11）组合结构图**

这种UML图不常用，因为它的功能非常具体。它只表示一个类的内部结构和不同类组件之间的关系。

业务专业人员通常对组合结构图不感兴趣，因为他们主要关注组件的顶层视图以及它们如何相互通信。对于管理者来说，了解一个类的特定数据成员与另一个类的数据成员之间的关系几乎是无关紧要的。

**（12）部署图**

部署图用于可视化软件和硬件之间的关系。更具体地说，利用部署图，我们可以构建一个物理模型，说明软件组件（工件）如何部署在称为节点的硬件组件上。

![UML部署图模板](https://cms.boardmix.cn/images/pictures/uml-diagram-styles10.png)

[UML部署图模板](https://boardmix.cn/community/file/CspfQK_7_N4wgLiucw4_7Q)

**（13）包图**

包图就像我们上面解释的部署 UML 图的宏容器。不同的包包含节点和工件。它们将模型图和组件组织成组，就像命名空间封装在某种程度上相互关联的不同名称一样。

最终，一个包也可以由多个其他包构建 ，以描述更复杂的系统和行为。包图的主要目的是显示构成复杂系统的不同大型组件之间的关系。程序员发现这种抽象机会是使用包图的一个很好的优势，尤其是当一些细节可以从大局中遗漏时。

![uml包图](https://cms.boardmix.cn/images/pictures/uml-diagram-styles11.png)

uml包图

**（14）剖面图**

配置文件图不是典型的 UML 图类型。事实上，它可以更多地被视为一种可扩展性机制，而不是像其他任何图表类型一样。

通过使用构造型、标记值和约束，可以扩展和自定义现有的 UML 符号。剖面图就像一种语言，如果你说英语，你可以创建新的句子，如果你说剖面图，那么你可以为 UML 图创建新的属性和语义。

原型——用于扩展可用的 UML 元素。它们允许您创建、编辑或派生一个新的元素或构建块，然后可以直接在图表中使用。

标记值——将其视为向现有模型添加新属性。一个新的标记值将分别产生一个新的关键字。

约束——这个词是不言自明的，但是，将约束视为可以添加到图表中的新条件。例如，约束可以是：“未结余额必须大于 3 美元”。此约束可用于控制银行系统何时应终止支票帐户。

![uml剖面](https://cms.boardmix.cn/images/pictures/uml-diagram-styles12.png)

uml剖面图





## UML类图的几种关系

* 依赖关系: 一件事物发生改变影响到另一个事物。
* 泛化关系: 特殊/一般关系。
* 关联关系: 描述了一组链，链是对象之间的连接。
* 聚合关系: 整体与部分生命周期不同的关系。
* 组合关系: 整体与部分生命周期相同的关系。
* 实现关系: 接口与类之间的关系。

通常用于对**系统的词汇、简单的协作、逻辑数据库模式**进行建模

## UML状态图

状态图展现了一个状态机，它由状态、转换、事件和活动组成，通常包括简单状态和组合状态、转换(事件和动作)。
由于状态可以是单一的，也可以是嵌套的(嵌套在另一个状态中的状态称为子状态，含有子状态的状态称为组合状态)，所以活动可以在状态内执行，也可以在状态迁移时执行。
转换 (迁移)是两个状态之间的一种关系，表示对象将在源状态执行一定的事件或动作，并在某个特定事件发生而且某个特定的监护条件满足时离开当前状态而进入目标状态。
转换(迁移)是从源状态和目的状态之间的一种关系，包含触发事件、监护条件、状态(源状态和目的状态)、动作。
当某个事件发生后，对象的状态将发生变化，事件可以触发迁移。





顺序图(sequence diagram，序列图)。顺序图是一种交互图(interaction diagram)交互图展现了一种交互，它由一组对象或参与者以及它们之间可能发送的消息构成。交互图专注于系统的动态视图。顺序图是强调消息的时间次序的交互图。
序列图展示了1个用例和多个对象的行为。

用例图是用户与系统交互的最简表示形式，展现用户和与他相关的用例之间的关系

活动图本质上是一种流程图,它描述活动的序列,即系统从一个活动到另一个活动的控制流交互图是描述对象之间的关系以及对象之间的信息传递的图。

序列图(时序图)、协作图(通信图)、交互概览图统称交互图。